{% extends 'blog/base.html' %}

{% block content %}
<style>
  /* Hero Section */
  .contact-hero {
    background: linear-gradient(rgba(0, 51, 102, 0.85), rgba(0, 51, 102, 0.85)),
      url('https://source.unsplash.com/1600x500/?office,contact') no-repeat center center/cover;
    color: #fff;
    padding: 100px 20px;
    text-align: center;
  }
  .contact-hero h1 {
    font-size: 3rem;
    font-weight: bold;
  }
  .contact-hero p {
    font-size: 1.2rem;
    opacity: 0.9;
  }

  /* Contact Card */
  .contact-card {
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
  }
  .contact-card:hover {
    transform: translateY(-5px);
  }

  /* Map */
  .map-container iframe {
    border-radius: 20px;
    width: 100%;
    height: 350px;
    border: none;
  }
</style>

<!-- Hero Section -->
<section class="contact-hero">
  <div class="container">
    <h1>Contact Us</h1>
    <p>Weâ€™d love to hear from you! Fill out the form below to get in touch.</p>
  </div>
</section>

<!-- Contact Section -->
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card contact-card p-4">
        <h3 class="mb-4 text-primary text-center">Send Us a Message</h3>

        <!-- Field-specific error messages -->
        {% for field in form %}
          {% if field.errors %}
            <div class="alert alert-danger py-2 px-3">
              <strong>{{ field.label }}:</strong> {{ field.errors|join:", " }}
            </div>
          {% endif %}
        {% endfor %}

        <!-- Success message -->
        {% if success_message %}
          <div class="alert alert-success text-center" role="alert">
            {{ success_message }}
          </div>
        {% endif %}

        <form method="post" novalidate>
          {% csrf_token %}

          <div class="row mb-3">
            <div class="col-md-6">
              <label for="id_name" class="form-label">Name</label>
              <input type="text" name="name" id="id_name" class="form-control shadow-sm {% if errors.name %}is-invalid{% endif %}" value="{{ name }}" placeholder="Your name">
              {% if errors.name %}
                <div class="invalid-feedback">{{ errors.name }}</div>
              {% endif %}
            </div>
            <div class="col-md-6">
              <label for="id_email" class="form-label">Email</label>
              <input type="email" name="email" id="id_email" class="form-control shadow-sm {% if errors.email %}is-invalid{% endif %}" value="{{ email }}" placeholder="you@example.com">
              {% if errors.email %}
                <div class="invalid-feedback">{{ errors.email }}</div>
              {% endif %}
            </div>
          </div>

          <div class="mb-4">
            <label for="id_message" class="form-label">Message</label>
            <textarea name="message" id="id_message" rows="5" class="form-control shadow-sm {% if errors.message %}is-invalid{% endif %}" placeholder="Write your message here...">{{ message }}</textarea>
            {% if errors.message %}
              <div class="invalid-feedback">{{ errors.message }}</div>
            {% endif %}
          </div>

          <div class="text-center">
            <button type="submit" class="btn btn-primary px-5 py-2 rounded-pill">Send Message</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Google Map -->
  <div class="row mt-5">
    <div class="col-12 map-container">
      <iframe 
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.019237604922!2d-122.41941518468165!3d37.77492977975995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80858153b2d4bdfd%3A0x6a67a2d89f2b9e71!2sSan%20Francisco!5e0!3m2!1sen!2sin!4v1632131234567!5m2!1sen!2sin" 
        allowfullscreen="" 
        loading="lazy">
      </iframe>
    </div>
  </div>
</div>
{% endblock %}
